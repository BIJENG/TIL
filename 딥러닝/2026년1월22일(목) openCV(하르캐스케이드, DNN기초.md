## 1. OpenCV 기초와 에러 해결 🛠️

### 1.1. 창 제어와 마우스 이벤트 (`namedWindow`의 중요성)
처음에는 `imshow`만 있으면 창이 뜨는데 왜 굳이 `namedWindow`를 쓰는지 이해가 안 갔다. 하지만 **이벤트 처리**를 위해서는 필수였다.

* **`cv2.namedWindow('Title')`**: 운영체제에 'Title'이라는 이름의 **도화지(창)**를 미리 예약하는 행위.
* **`cv2.setMouseCallback('Title', func)`**: 예약된 도화지에 **'마우스 감시자(함수)'**를 연결(Binding)하는 행위.
* **핵심:** 예약된 창이 없으면 감시자를 붙일 곳이 없어서 에러가 나거나 클릭이 무시된다.

### 1.2. 채널 불일치 에러 (`cv2.hconcat`)
이미지를 나란히 붙일 때 발생한 `(-215:Assertion failed)` 에러의 원인은 **'데이터의 깊이(Depth)'**가 달랐기 때문이다.

* **문제 상황:** 컬러 이미지(3채널, BGR)와 흑백 이미지(1채널, Grayscale)를 억지로 붙이려 함.
* **해결:** 흑백 이미지를 `cv2.cvtColor(img, cv2.COLOR_GRAY2BGR)`를 통해 **'3채널 형식의 흑백'**으로 변환 후 병합.
* **헬스케어 적용:** 원본 X-ray(흑백)와 AI 분석 결과(컬러 박스)를 의사에게 동시에 보여줄 때 필수적인 전처리 과정.

### 1.3. 주요 메서드 정리
* **`cv2.resize(..., interpolation=cv2.INTER_AREA)`**: 이미지를 축소할 때 픽셀을 뭉개지 않고 **평균**을 내어 선명하게 줄이는 보간법.
* **`cv2.GaussianBlur`**: 모자이크보다 부드럽게 개인정보(얼굴)를 가리는 방법.

---

## 2. 객체 탐지 기술의 진화: Cascade vs DNN 🤖

| 특징 | Haar Cascade (하르 캐스케이드) | DNN (Deep Neural Network) |
| :--- | :--- | :--- |
| **비유** | **"깐깐한 서류 면접관"** | **"경험 많은 영상의학과 교수님"** |
| **작동 원리** | 정해진 규칙(눈, 코, 입)을 순서대로 통과해야 인정 | 수만 장의 데이터를 학습하여 추상적 특징 파악 |
| **속도** | 매우 빠름 (저사양 기기 가능) | 느림 (GPU 권장) |
| **정확도** | 낮음 (각도 틀어지면 못 찾음) | **높음 (마스크, 조명 변화에 강함)** |
| **헬스케어** | 단순 얼굴 인식, 체온 측정기 | **암 진단, 정밀 병변 검출** |

---

## 3. 심화: YOLO와 DNN의 구조 🧠

수업 시간에 배운 **YOLO(You Only Look Once)**는 DNN 기술 중 하나로, **속도와 정확도**를 모두 잡은 혁신적인 모델이다.

### 3.1. DNN 실행 4단계 (OpenCV 활용)
1.  **Load (모델 로딩):**
    * `.weights`: 학습된 지식 (뇌세포의 연결 강도)
    * `.cfg`: 모델 설계도 (뇌의 구조)
    * `.onnx`: 호환성을 높인 통합 모델 파일 (최신 트렌드)
    * `cv2.dnn.readNet()`: 이미지가 아니라 **'지능(네트워크)'**을 불러오는 함수.
2.  **Pre-processing (전처리/Blob):**
    * `blobFromImage`: 이미지를 AI가 이해할 수 있는 **'4차원 숫자 덩어리'**로 변환. 
    * **정규화(Normalization):** `1/255.0`을 곱해 픽셀값을 0~1 사이로 맞춤.
3.  **Inference (추론):**
    * `net.forward()`: 입력된 이미지를 보고 정답을 예측하는 과정.
4.  **Post-processing (후처리):**
    * 결과로 나온 수천 개의 박스 중 진짜를 골라내는 과정.

### 3.2. NMS (Non-Maximum Suppression, 비최대 억제)
* **개념:** AI가 하나의 물체에 대해 수십 개의 박스를 그릴 때, **가장 확률(Confidence)이 높은 하나만 남기고 나머지는 제거**하는 알고리즘.
* **IoU (Intersection over Union):** 박스끼리 얼마나 겹쳤는지 판단하는 기준.
* **헬스케어 적용:** 의사에게 "여기 암이 있을 확률 90%, 89%, 88%..."라고 수십 개를 보여주면 안 됨. 가장 확실한 하나만 보여줘서 **해석 가능성(Explainability)**을 높임.

---

## 4. 헬스케어 도메인 인사이트 🏥

* **데이터 희소성 & 전이 학습(Transfer Learning):**
    * 의료 데이터는 구하기 힘들다. 따라서 일반 사물(COCO 데이터셋)로 똑똑해진 YOLO 모델을 가져와서, 의료 데이터로 **'재교육'** 시키는 방식을 주로 사용한다.
* **개인정보 비식별화:**
    * 환자의 얼굴이 드러나는 영상은 연구용으로 쓸 수 없다. `GaussianBlur` 등을 이용해 **비가역적(되돌릴 수 없는) 처리**를 해야 한다.

---

### 📝 오늘의 한 줄 평
"코드를 외우는 것보다 **'데이터가 흐르는 파이프라인(전처리 -> 추론 -> 후처리)'**을 이해하는 것이 중요하다. Cascade는 과거의 유산이고, 헬스케어의 미래는 DNN(YOLO)에 있다."
"""
