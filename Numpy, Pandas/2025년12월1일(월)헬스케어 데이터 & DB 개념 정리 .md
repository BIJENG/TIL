📌 헬스케어 데이터 & DB 개념 정리 — 최종본
1. Database를 배우는 이유
🔹 CSV(엑셀 기반 데이터)의 한계

파일 크기가 커지면 매우 느려짐

메모리 부족 문제 발생

여러 CSV를 반복해서 merge해야 해 비효율적

데이터가 자주 업데이트되면 유지보수 어려움

여러 사용자가 동시에 작업 불가

🔹 Database의 필요성

DB는 데이터를 구조적으로, 안전하게, 빠르게, 여러 사람이 동시에 사용할 수 있게 저장하는 시스템

여러 테이블로 나눠 저장

데이터 무결성(일관성) 유지

빠른 검색 및 조회

대규모 데이터 처리 가능

2. CSV vs Database 비교
항목	CSV	Database
데이터 크기	작은 규모만 적합	수백만~수억 행 처리 가능
구조	한 개의 표	여러 테이블이 관계로 연결됨
검색 속도	느리고 비효율적	인덱스로 빠르게 탐색
데이터 업데이트	어려움	안정적
협업	파일 공유	여러 명 동시 접속 가능
3. 실제 병원이 DB를 쓰는 이유

병원은 데이터 종류가 매우 다양함.

환자 정보 (Patient)

방문·입원 정보 (Encounter, Admission)

검사 결과 (Lab Result)

진단 (Diagnosis)

처방 (Medication)

보험 청구 (Claim)

➡️ 서로 다른 데이터가 관계로 연결되어야 하기 때문에 Database가 필수

4. Database 기본 용어 정리
✔ Database

데이터가 저장된 전체 공간

✔ DBMS

Database를 관리하는 시스템
예: MySQL, PostgreSQL, Oracle

✔ RDBMS

관계형 데이터베이스 (테이블 간 관계 기반)

✔ Table

데이터가 저장된 표

✔ Column

속성 (필드)

✔ Row

자료 한 줄 (레코드)

✔ Domain

Column이 가질 수 있는 값의 범위
예: 나이(age) → 0~150, 정수

✔ Schema

Database 구조 정의서

테이블 이름

컬럼 타입

PK, FK

제약조건 등

✔ Instance

특정 시점의 실제 데이터 상태
예) “12월 1일 기준 DB 내용을 보여주세요”

5. Database 종류
✔ RDBMS(관계형)

MySQL

PostgreSQL

Oracle

정형 데이터 기반

모든 값은 원자값(Atomic Value) 하나의 셀 = 하나의 값

✔ NoSQL(문서기반 등)

MongoDB

비정형/반정형 데이터용

6. Key의 종류
🔹 Super Key

행(row)을 유일하게 식별할 수 있는 모든 속성 조합

🔹 Candidate Key (후보키)

슈퍼키 중에서 더 이상 줄일 수 없는 최소 식별키

🔹 Primary Key (PK)

대표 식별키 (기본키) — 중복/NULL 불가

🔹 Alternate Key

PK로 선택되지 않은 후보키

🔹 Foreign Key (FK)

다른 테이블의 PK를 참조

🔹 Surrogate Key

인조키 (ex: 자동 증가 ID)

7. Primary Key 설계 원칙
✔ 좋은 PK

정수형 (INT, BIGINT)

AUTO_INCREMENT 사용

✔ 나쁜 PK

주민등록번호 (보안 문제)

email (변경될 수 있음)

이름 + 생년월일 (중복 가능)

8. Foreign Key
✔ 역할

테이블 간 관계를 정의

데이터 정합성 보장
→ 존재하지 않는 값 참조 금지

✔ 규칙

FK는 부모 테이블(PK)와 동일 타입

도메인 완전 일치

참조 무결성 유지

9. 무결성 (Integrity)
종류	내용
도메인 무결성	컬럼 값은 정해진 타입·범위만 허용
엔티티 무결성	PK는 중복, NULL 금지
참조 무결성	FK는 반드시 존재하는 PK만 참조
업무(비즈니스) 무결성	실제 업무에서 불가능한 값 금지 (예: 남성 임신 불가)
10. 정규화(Normalization)

중복 제거 + 이상 현상 방지

✔ 1NF — 원자성

한 칸에 여러 개 값 금지
예) 취미가 "영화보기, 등산" → 별도 테이블 또는 별도 row

✔ 2NF — 부분 종속 제거

복합키의 일부에만 종속된 컬럼 제거

✔ 3NF — 이행 종속 제거

PK가 아닌 컬럼이 다른 컬럼을 결정하면 분리
