# SQL 기본 문법 정리

---

## 1. SQL 관례
- SQL 키워드는 **일반적으로 대문자**로 작성
- 가독성과 협업 시 일관성 유지

```sql
SELECT column1, column2, ...
FROM table_name;
; : SQL 문 종료

* : 전체 컬럼 조회

2. WHERE 조건문
sql
코드 복사
SELECT column1, column2, ...
FROM table_name
WHERE 조건;
조건에 맞는 행(row)만 가져오기

비교 연산자

= : 같음

<, <=, >, >= : 비교

BETWEEN value1 AND value2 : 범위

IN (value1, value2, ...) : 여러 값 중 하나

LIKE 'A%' : 특정 패턴 검색 (A로 시작)

IS NULL / IS NOT NULL : NULL 체크

⚠️ 주의: = 와 IS는 의미가 다름. NULL 체크는 IS NULL / IS NOT NULL 사용

3. ORDER BY 정렬
sql
코드 복사
SELECT column1, column2, ...
FROM table_name
ORDER BY column ASC; -- 오름차순
ORDER BY column DESC; -- 내림차순
예시:

sql
코드 복사
SELECT *
FROM patients
WHERE gender = 'M'
ORDER BY weight DESC;
4. JOIN
4.1 JOIN 필요성
의료 데이터처럼 여러 테이블(entity)이 있을 때 필요

환자, 방문, 검사, 처방, 진단 등

JOIN 없이는 서로 다른 테이블 데이터 결합 불가

4.2 INNER JOIN
sql
코드 복사
SELECT ...
FROM table_A
INNER JOIN table_B
ON A.key = B.key;
두 테이블 모두 존재하는 행만 출력 (교집합)

필수 관계

별칭 사용 가능

sql
코드 복사
SELECT p.last_name
FROM patients AS p
INNER JOIN admissions AS a
ON p.patient_id = a.patient_id;
4.3 LEFT JOIN
sql
코드 복사
SELECT A.col1, A.col2, B.col3
FROM table_A
LEFT JOIN table_B
ON A.key = B.key;
왼쪽 테이블(A)의 모든 행 출력

오른쪽 테이블(B) 매칭 없으면 NULL

선택적 관계

4.4 JOIN + WHERE
sql
코드 복사
SELECT A.col1, A.col2, B.col3
FROM table_A
INNER JOIN table_B ON A.key = B.key
WHERE 조건;
ON: 테이블 연결 조건

WHERE: 연결 후 필터링 조건

⚠️ ON과 WHERE 조건 순서 주의: WHERE에 JOIN 조건을 잘못 쓰면 데이터 누락 가능

5. DISTINCT
중복 제거

sql
코드 복사
SELECT DISTINCT column
FROM table_name;
6. GROUP BY / HAVING / LIMIT / Aggregation
6.1 GROUP BY
sql
코드 복사
SELECT column, COUNT(*)
FROM table_name
GROUP BY column;
특정 컬럼 기준으로 그룹화

6.2 HAVING
그룹화 후 조건 필터링

sql
코드 복사
SELECT column, COUNT(*)
FROM table_name
GROUP BY column
HAVING COUNT(*) > 1;
6.3 LIMIT
출력되는 데이터 수 제한

sql
코드 복사
SELECT *
FROM patients
LIMIT 3; -- 상위 3개
LIMIT 10, 3; -- 인덱스 10부터 3개 출력
7. 추가 팁
날짜 비교

sql
코드 복사
WHERE birth_date > '1963-01-01';
대부분의 DB에서 문자열 'YYYY-MM-DD'를 DATE 타입으로 자동 변환

숫자형으로 쓰면 호환성 문제 발생 가능

집계함수

COUNT(), SUM(), AVG(), MIN(), MAX()

GROUP BY와 함께 자주 사용

패턴 검색

% : 0개 이상 문자

_ : 1개 문자

SQL 작성 관례

키워드 대문자, 컬럼/테이블 소문자

들여쓰기와 줄바꿈으로 가독성 확보
