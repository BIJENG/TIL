# 파이썬 필수 개념 및 파일 입출력, 예외처리

## 1. 파이썬 필수 개념

1. **변수 (Variables)**  
2. **자료구조 (Data Structures)**  
3. **제어문 (Control Flow)**  
4. **반복문 (Loops)**  
5. **함수 (Functions)**  
6. **클래스 (Classes)**  

---

## 2. 파일 입출력 (File I/O)

파일 입출력은 프로그램에서 외부 파일에 데이터를 저장하거나 읽어오는 작업입니다.  
`open()` 함수를 사용하며, 모드를 지정하여 작업 방식을 결정합니다.

### 기본 문법

```python
file = open('파일명.txt', '모드', encoding='utf-8')
# 작업 수행
file.close()  # 반드시 닫아야 함
모드

'r': 읽기 모드 (기본값)

'w': 쓰기 모드 (기존 내용 삭제)

'a': 추가 모드

'r+': 읽기/쓰기 모드

encoding: 한글 등 특수문자 처리 위해 'utf-8' 지정

권장 방식: with 문
python
코드 복사
# 안전한 파일 쓰기
with open('patient_info.txt', 'w', encoding='utf-8') as file:
    file.write("환자 정보")
# 파일 자동으로 닫힘
파일 읽기 예제
python
코드 복사
# 파일 생성
with open('medical_records.txt', 'w', encoding='utf-8') as file:
    file.write("2024-03-15 김환자 고혈압 초진\n")
    file.write("2024-03-15 이환자 당뇨병 재진\n")
    file.write("2024-03-15 박환자 감기 초진\n")

# 1. 전체 내용 읽기
with open('medical_records.txt', 'r', encoding='utf-8') as file:
    content = file.read()
    print("=== 전체 진료기록 ===")
    print(content)

# 2. 첫 번째 줄만 읽기
with open('medical_records.txt', 'r', encoding='utf-8') as file:
    first_line = file.readline().strip()
    print(f"첫 번째 기록: {first_line}")
파일 경로 지정
상대 경로: 현재 폴더 기준

절대 경로: 시스템 전체 경로

python
코드 복사
# 현재 폴더
current_folder = "patient_records.txt"

# 하위 폴더
sub_folder = "backup/patient_backup.txt"

# 현재 폴더 저장
with open(current_folder, 'w', encoding='utf-8') as file:
    file.write("김환자 - 고혈압\n이환자 - 당뇨병\n")

# 하위 폴더 저장
import os
os.makedirs("backup", exist_ok=True)
with open(sub_folder, 'w', encoding='utf-8') as file:
    file.write("백업 완료: 2024-03-15\n")
exist_ok=True → 이미 폴더가 있어도 오류 발생 안함

인코딩 (UTF-8)
텍스트를 컴퓨터가 이해할 수 있는 바이트로 변환하는 방식

한글 데이터를 처리할 때 반드시 'utf-8' 인코딩 지정

3. 예외처리 (Exception Handling)
예외처리는 프로그램 실행 중 발생할 수 있는 오류를 적절히 처리하여 시스템 안정성을 보장하는 방법입니다.

주요 예외
python
코드 복사
patient_file = open('nonexistent_file.txt', 'r')  # FileNotFoundError
patient_age = int("나이")                        # ValueError
result = 10 / 0                                 # ZeroDivisionError
기본 구문
python
코드 복사
try:
    # 위험한 코드
    위험한_코드()
except:
    print("뭔가 오류가 발생했습니다")
❌ 이렇게 하면 어떤 오류가 발생했는지 알 수 없음

예외 정보 받기
python
코드 복사
try:
    위험한_코드()
except Exception as e:
    print(f"오류 발생: {e}")
Exception은 모든 예외를 포괄

as e → 발생한 오류 메시지를 e에 담음

특정 예외 타입 지정
python
코드 복사
try:
    위험한_코드()
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다")
except ValueError:
    print("잘못된 값이 입력되었습니다")
finally 블록
try-except와 함께 사용

오류 발생 여부와 관계없이 항상 실행

python
코드 복사
def calculate_patient_bmi(weight, height):
    """환자 BMI를 계산하고 시스템 로그를 남깁니다"""

    try:
        print("BMI 계산을 시작합니다...")
        bmi = weight / ((height / 100) ** 2)
        print(f"BMI 계산 결과: {bmi:.2f}")
        return bmi

    except ZeroDivisionError:
        print("키는 0보다 커야 합니다.")
        return None

    except TypeError:
        print("숫자만 입력 가능합니다.")
        return None

    finally:
        print("=" * 30)
        print("BMI 계산 작업을 종료합니다.")
        print("시스템 로그에 기록되었습니다.")
🔹 요약
1.파일 입출력
with 사용 권장
모드와 인코딩 지정 필수

2.예외처리
try-except로 오류 방지
finally로 항상 실행되는 코드 작성 가능
Exception as e로 오류 메시지 확인 가능
