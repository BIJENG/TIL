## 1. 📌 핵심 개념 (Core Concepts)

### ① 함수의 '실행' vs '참조(주소값)'

- **개념:** `add()`는 **"지금 당장 실행해!"**라는 명령이고, `add`는 **"나중에 쓸 수 있게 위치(주소)만 알려줄게"**라는 예약이다.
- **쉬운 비유:** `add()`는 다 만들어진 요리를 입에 넣는 것이고, `add`는 요리 레시피를 식당 주인에게 건네주는 것과 같다.
- **헬스케어 도메인 적용:** 이벤트 리스너(`addEventListener`)에 환자 알람 시스템을 연결할 때, 괄호 `()`를 붙여버리면 버튼을 누르기도 전에 알람이 울리는 대참사가 발생한다. 이벤트가 발생했을 때 호출되도록 반드시 주소값(함수 이름)만 넘겨야 안전하게 동작한다.

### ② 동기(Sync)와 비동기(Async)의 이해

- **개념:** 자바스크립트는 한 번에 하나씩만 일하지만, 오래 걸리는 일(타이머, 서버 통신 등)은 웹 브라우저(Web API)에게 던져놓고 다음 줄의 코드를 먼저 실행한다. 이를 **비동기(Asynchronous)**라고 한다.
- **쉬운 비유:** 세탁기를 돌려놓고 세탁기 앞에서 멍하니 기다리는 게 아니라, 세탁기가 돌아가는 동안 거실 청소를 먼저 하는 효율적인 방식이다.
- **헬스케어 도메인 적용:** 무거운 환자 MRI 영상 데이터를 서버에서 다운로드(`fetch`)하는 동안 화면이 멈추면(프리징) 안 된다. 비동기 처리를 통해 다운로드는 백그라운드에서 진행되고, 의사는 다른 차트 기능을 끊김 없이 계속 사용할 수 있어야 한다.

### ③ Fetch API와 JSON 파싱

- **개념:** 서버와 데이터를 주고받을 때 사용하는 웹 API. 서버에서 온 데이터는 단순한 '긴 문자열(String)' 형태이므로, 반드시 `.json()` 메서드를 사용하여 자바스크립트 객체로 변환(Parsing)해야 한다.
- **쉬운 비유:** 택배 상자(응답)를 받았다고 끝이 아니다. 가위로 테이프를 뜯고 내용물을 꺼내 사용할 수 있게 정리하는 과정이 바로 `.json()`이다.

---

## 2. ⚠️ 주의할 점 및 자주 하는 실수 (Troubleshooting)

### ❌ 1. 오타로 인한 데이터 전송/수신 실패 (`headers` 오타)

- **실수 유형:** `fetch` 사용 시 옵션 객체에 `headers`를 `hearders`로 잘못 적어 서버가 데이터(JSON)를 인식하지 못하는 문제.
- **위험성:** 헬스케어 시스템에서 약물 투여량 변수명을 `dose`가 아닌 `dsoes`로 오타를 낸다면 서버에 데이터가 누락되어 심각한 의료 사고로 이어질 수 있다. 컴퓨터는 작은 오타도 알아서 해석해주지 않는다.
- **학습 포인트:** 에러가 발생하거나 데이터가 제대로 통신되지 않을 때는, 가장 먼저 철자(Spelling)에 오타가 없는지 꼼꼼히 점검하는 습관을 들여야 한다.

### ❌ 2. 화면 출력(`console.log`)과 값 반환(`return`)의 혼동

- **실수 유형:** 함수 내부에서 `console.log()`로 화면에 값을 띄웠다고 해서 함수가 결과값을 만들어냈다고 착각하는 경우. `return`이 없으면 함수는 결국 '빈손(`undefined`)'으로 종료된다.
- **위험성:** AI 모델이나 다음 로직에 환자의 심박수 분석 결과를 넘겨줘야 할 때 `return`을 빼먹으면, 시스템은 텅 빈 데이터(`undefined`)를 받게 되어 후속 로직이 모두 중단된다.
- **학습 포인트:** 콘솔 출력은 단순 '개발자용 메모'일 뿐이며, 데이터를 살려서 다음 단계로 보내려면 반드시 `return` 키워드를 사용해야 함을 명심하자.

---

## 3. 💡 심화 학습: Async / Await 문법 적용하기

`fetch`를 사용할 때 `.then()`을 체인처럼 연결하는 방식 대신, 더 직관적이고 읽기 쉬운 최신 문법인 **`async/await`**를 사용할 수 있다.

- **개념:** 비동기 작업을 동기 작업처럼 (위에서 아래로 순서대로 읽히게) 보이도록 작성하는 문법.
- **쉬운 비유:** "브라우저에게 심부름을 시켰는데, 그 심부름이 완전히 끝날 때까지 다음 코드가 얌전히 제자리에서 기다리게(await) 만드는 기능"이다.
- **도입 이유 (의료 데이터 파이프라인):** 환자 데이터는 처리 순서가 매우 중요하다. `[로그인 확인] -> [차트 불러오기] -> [화면 띄우기]`의 순서가 꼬이지 않고 반드시 지켜지도록 설계할 때 가독성이 훨씬 좋아진다.

### ✅ 실전 코드 적용 (심화)

```javascript
// 함수 앞에 async 키워드를 붙여 비동기 함수임을 선언한다.
async function getPatientRecord() {
  try {
    // await를 쓰면 서버에서 응답이 올 때까지 코드 실행이 잠시 '대기'한다.
    const response = await fetch(
      "[https://jsonplaceholder.typicode.com/posts/1](https://jsonplaceholder.typicode.com/posts/1)",
    );

    // JSON으로 파싱(변환)하는 작업 역시 비동기이므로 await를 붙여준다.
    const data = await response.json();

    // 코드가 파이썬이나 일반 동기 코드처럼 위에서 아래로 물 흐르듯 직관적으로 읽힌다.
    console.log("환자 기록:", data.title);
  } catch (error) {
    // 서버 다운 등 통신 오류 상황에 대비해 try...catch 문으로 에러를 안전하게 처리한다.
    console.error("의료 기록 접근 실패:", error);
  }
}

// 함수 실행
getPatientRecord();
```
